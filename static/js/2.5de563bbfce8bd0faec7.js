webpackJsonp([2],{"4fnP":function(e,o){},"7fYb":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=t("Xxa5"),s=t.n(a),d=t("exGp"),r=t.n(d),i={data:function(){return{activeIndex:1,activeName:"one",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},options:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"shejiyuanze1",label:"设计原则1"}]},{value:"daohang",label:"导航"}]}],defaultsProps:{value:"cat_id",label:"cat_name"},addCatForm:{cat_name:[],cat_pid_arr:""},addGoodsForm:{goods_name:"",goods_price:"",goods_number:"",goods_weight:"",goods_cat:[],goods_introduce:"",pics:[],radio:1},dialogImageUrl:"",dialogVisible:!1,headers:{Authorization:localStorage.getItem("token")},editorOption:{placeholder:"请输入文本"}}},created:function(){this.getCategories()},methods:{clickTab:function(e){this.activeIndex=+e.index+1},next:function(e,o){this.activeIndex=e,this.activeName=o},getCategories:function(){var e=this;return r()(s.a.mark(function o(){var t;return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.$axios.get("categories",{params:{type:3}});case 2:t=o.sent,e.options=t.data.data;case 4:case"end":return o.stop()}},o,e)}))()},handleRemove:function(e,o){console.log(e,o)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},uploadImgSuccess:function(e){this.addGoodsForm.pics.push({pic:e.data.tmp_path})},postGoods:function(){var e=this;return r()(s.a.mark(function o(){var t,a,d,r,i,n,l,c,u;return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.addGoodsForm,a=t.goods_name,d=t.goods_price,r=t.goods_number,i=t.goods_weight,n=t.goods_cat,l=t.goods_introduce,c=t.pics,u=t.radio,o.next=3,e.$axios.post("goods",{goods_name:a,goods_price:d,goods_number:r,goods_weight:i,goods_cat:n.join(","),goods_introduce:l,pics:c,radio:u});case 3:201===o.sent.data.meta.status&&(e.$message({message:"添加商品成功",type:"success",duration:800}),e.$router.push("/goods"));case 5:case"end":return o.stop()}},o,e)}))()}}},n={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("el-steps",{attrs:{active:e.activeIndex,"finish-status":"success"}},[t("el-step",{attrs:{title:"第一步",description:"基本信息"}}),e._v(" "),t("el-step",{attrs:{title:"第二步",description:"商品图片"}}),e._v(" "),t("el-step",{attrs:{title:"第三步",description:"商品内容"}})],1),e._v(" "),t("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":e.clickTab},model:{value:e.activeName,callback:function(o){e.activeName=o},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"基本信息",name:"one"}},[e._v("基本信息\n      "),t("el-form",{ref:"form",attrs:{model:e.addGoodsForm,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"商品名称"}},[t("el-input",{model:{value:e.addGoodsForm.goods_name,callback:function(o){e.$set(e.addGoodsForm,"goods_name",o)},expression:"addGoodsForm.goods_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商品价格"}},[t("el-input",{model:{value:e.addGoodsForm.goods_price,callback:function(o){e.$set(e.addGoodsForm,"goods_price",o)},expression:"addGoodsForm.goods_price"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商品重量"}},[t("el-input",{model:{value:e.addGoodsForm.goods_weight,callback:function(o){e.$set(e.addGoodsForm,"goods_weight",o)},expression:"addGoodsForm.goods_weight"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商品数量"}},[t("el-input",{model:{value:e.addGoodsForm.goods_number,callback:function(o){e.$set(e.addGoodsForm,"goods_number",o)},expression:"addGoodsForm.goods_number"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商品分类"}},[t("el-cascader",{attrs:{options:e.options,clearable:"",props:e.defaultsProps},model:{value:e.addGoodsForm.goods_cat,callback:function(o){e.$set(e.addGoodsForm,"goods_cat",o)},expression:"addGoodsForm.goods_cat"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否促销"}},[t("el-radio",{attrs:{label:1},model:{value:e.addGoodsForm.radio,callback:function(o){e.$set(e.addGoodsForm,"radio",o)},expression:"addGoodsForm.radio"}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:2},model:{value:e.addGoodsForm.radio,callback:function(o){e.$set(e.addGoodsForm,"radio",o)},expression:"addGoodsForm.radio"}},[e._v("否")])],1)],1),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.next(2,"two")}}},[e._v("下一步")])],1),e._v(" "),t("el-tab-pane",{attrs:{label:"商品图片",name:"two"}},[t("el-upload",{attrs:{action:"http://localhost:8888/api/private/v1/upload","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-success":e.uploadImgSuccess,headers:e.headers}},[t("i",{staticClass:"el-icon-plus"})]),e._v(" "),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(o){e.dialogVisible=o}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.next(3,"three")}}},[e._v("下一步")])],1),e._v(" "),t("el-tab-pane",{attrs:{label:"商品内容",name:"three"}},[t("quill-editor",{attrs:{options:e.editorOption},model:{value:e.addGoodsForm.goods_introduce,callback:function(o){e.$set(e.addGoodsForm,"goods_introduce",o)},expression:"addGoodsForm.goods_introduce"}}),e._v(" "),t("h1",[e._v("我是h1")]),e._v(" "),t("el-button",{attrs:{type:"success"},on:{click:e.postGoods}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var l=t("VU/8")(i,n,!1,function(e){t("veUE"),t("4fnP")},"data-v-75406efa",null);o.default=l.exports},veUE:function(e,o){}});
//# sourceMappingURL=2.5de563bbfce8bd0faec7.js.map